{% extends "base.html" %}

{% import "macros/debug.html" as debug %}


{% block site_header_title %}
{% if config.extra.uncouth_theme_use_page_name == true %}
<header>
    <h1>{{ page.title }}</h1>
</header>
{% else %}
{{ super() }}
{% endif %}
{% endblock site_header_title %}

{% block content %}


{% set result_data = load_data(path="data/preliminary_results.json") %}
{% set district_results = result_data[page.extra.district_id] %}
{% block title %}{{ page.title }}{% endblock title %}

{% if config.extra.uncouth_theme_use_page_name == false %}
<header>
    <h1>{{ page.title }}</h1>
</header>
{% endif %}

{{ page.content | safe }}

<table>
    <thead>
        <tr>
            <th>Candidate</th>
            <th>Party</th>
            <th>Ballots</th>
            <th>Percent</th>
        </tr>
    </thead>
    <tbody>
    {% for candidate in district_results %}
        <tr>
            <td>{{ candidate.name_first}} {{ candidate.name_middle }} {{ candidate.name_last }}</td>
            <td>{{ candidate.party }}</td>
            <td>{{ candidate.count_ballots }}</td>
            <td>{{ candidate.percent_ballots }}</td>
        </tr>
    {% endfor %}
    </tbody>
</table>
{% endblock content %}